\chapter{ğŸ§µ Free\+RTOS -\/ Binary Semaphoreë¥¼ ì´ìš©í•œ ì¸í„°ëŸ½íŠ¸ ì—°ë™ ì˜ˆì œ }
\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e}{}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e}\index{ğŸ§µ FreeRTOS -\/ Binary Semaphoreë¥¼ ì´ìš©í•œ ì¸í„°ëŸ½íŠ¸ ì—°ë™ ì˜ˆì œ@{ğŸ§µ FreeRTOS -\/ Binary Semaphoreë¥¼ ì´ìš©í•œ ì¸í„°ëŸ½íŠ¸ ì—°ë™ ì˜ˆì œ}}
\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md115}%
\Hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md115}%
\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md116}{}\doxysection{\texorpdfstring{1. ëª©ì  (Objective)}{1. ëª©ì  (Objective)}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md116}
{\ttfamily ì™¸ë¶€ ì¸í„°ëŸ½íŠ¸(\+EXTI)} ë°œìƒí•œ ì´ë²¤íŠ¸ë¥¼ ~\newline
 {\ttfamily Free\+RTOSì˜ Binary Semaphore}ë¥¼ ì‚¬ìš©í•˜ì—¬ Taskì—ì„œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡° í…ŒìŠ¤íŠ¸


\begin{DoxyItemize}
\item ISR(ì¸í„°ëŸ½íŠ¸ ì„œë¹„ìŠ¤ ë£¨í‹´)ì€ ë¹ ë¥´ê²Œ ëë‚´ê³ , ~\newline
 
\end{DoxyItemize}\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md117}{}\doxysection{\texorpdfstring{-\/ ì‹¤ì œ ì²˜ë¦¬ëŠ” Taskì—ì„œ í•˜ë„ë¡ ë¶„ë¦¬í•˜ì—¬ {\bfseries{ì‹¤ì‹œê°„ì„±ê³¼ ì•ˆì •ì„±}} í™•ë³´}{-\/ ì‹¤ì œ ì²˜ë¦¬ëŠ” Taskì—ì„œ í•˜ë„ë¡ ë¶„ë¦¬í•˜ì—¬ {\bfseries{ì‹¤ì‹œê°„ì„±ê³¼ ì•ˆì •ì„±}} í™•ë³´}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md117}
\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md118}{}\doxysection{\texorpdfstring{2. ì‹œìŠ¤í…œ êµ¬ì„±}{2. ì‹œìŠ¤í…œ êµ¬ì„±}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md118}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ êµ¬ì„± ìš”ì†Œ  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ì„¤ëª…  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ êµ¬ì„± ìš”ì†Œ  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ì„¤ëª…  }\\\cline{1-2}
\endhead
{\ttfamily EXTI15\+\_\+10\+\_\+\+IRQHandler}  &USER ë²„íŠ¼ ëˆŒë¦¼ ê°ì§€ ì‹œ Binary Semaphoreë¥¼ Give  \\\cline{1-2}
{\ttfamily Event\+Process\+Task}  &ì„¸ë§ˆí¬ì–´ë¥¼ Takeí•˜ê³  ë²„íŠ¼ ì´ë²¤íŠ¸ì— ëŒ€ì‘ ({\ttfamily printf})  \\\cline{1-2}
{\ttfamily bin\+Sem}  &Binary Semaphore í•¸ë“¤ (ìµœëŒ€ 1, ì´ˆê¸° 0)  \\\cline{1-2}
\end{longtabu}


\DoxyHorRuler{0}
\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md120}{}\doxysection{\texorpdfstring{3. ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤}{3. ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md120}

\begin{DoxyItemize}
\item {\bfseries{ì‚¬ìš©ì ë²„íŠ¼ ëˆ„ë¦„}} â†’ {\ttfamily \doxylink{4__1__semaphore__binarysemaphore_8c_a738473a5b43f6c92b80ce1d3d6f77ed9}{EXTI15\+\_\+10\+\_\+\+IRQHandler()}} ì¸í„°ëŸ½íŠ¸ ë°œìƒ ~\newline

\item ISRì€ {\ttfamily \doxylink{semphr_8h_a68aa43df8b2a0dbe17d05fad74670ef0}{x\+Semaphore\+Give\+From\+ISR()}}ë¥¼ í†µí•´ ì‹œê·¸ë„ë§Œ ì „ë‹¬ ~\newline

\item TaskëŠ” {\ttfamily \doxylink{semphr_8h_af116e436d2a5ae5bd72dbade2b5ea930}{x\+Semaphore\+Take()}}ë¡œ ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ê³  {\bfseries{ë¹„ë™ê¸° ì²˜ë¦¬}} ~\newline

\item UART ì¶œë ¥ ë“± ëŠë¦° ì‘ì—…ì€ Taskì—ì„œ ì‹¤í–‰í•˜ì—¬ ì‹œìŠ¤í…œ ì‘ë‹µì„± í™•ë³´
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md122}{}\doxysection{\texorpdfstring{4. ì™œ ì¸í„°ëŸ½íŠ¸ ì•ˆì—ì„œ ì˜¤ë˜ ì²˜ë¦¬í•˜ë©´ ì•ˆ ë ê¹Œ?}{4. ì™œ ì¸í„°ëŸ½íŠ¸ ì•ˆì—ì„œ ì˜¤ë˜ ì²˜ë¦¬í•˜ë©´ ì•ˆ ë ê¹Œ?}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md122}
ğŸ›‘ ìœ„í—˜í•œ ìƒí™©ë“¤

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ë¬¸ì œ í•­ëª©  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ì„¤ëª…  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ë¬¸ì œ í•­ëª©  }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ ì„¤ëª…  }\\\cline{1-2}
\endhead
{\bfseries{ë‹¤ë¥¸ ì¸í„°ëŸ½íŠ¸ ì§€ì—°}}  &í˜„ì¬ ISRì´ ì‹¤í–‰ ì¤‘ì´ë©´ \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}ìš°ì„ ìˆœìœ„ê°€ ë‚®ì€ ë‹¤ë¥¸ ì¸í„°ëŸ½íŠ¸ê°€ BLOCK\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}ë¨  \\\cline{1-2}
{\bfseries{ì»¨í…ìŠ¤íŠ¸ ì „í™˜ ë°©í•´}}  &Free\+RTOS ìŠ¤ì¼€ì¤„ëŸ¬ê°€ Taskë¡œ ë¹ ë¥´ê²Œ ì „í™˜ ëª»í•¨ â†’ {\bfseries{Task ì‘ë‹µì„± ì €í•˜}}  \\\cline{1-2}
{\bfseries{ë²„ê·¸ì™€ ì˜ˆì™¸ ìœ„í—˜}}  &ISRì—ì„œ {\ttfamily printf}, {\ttfamily malloc}, {\ttfamily HAL\+\_\+\+Delay} ë“± ì‚¬ìš© ì‹œ {\bfseries{ì˜ˆì¸¡ ë¶ˆê°€ ë™ì‘}} ë°œìƒ  \\\cline{1-2}
{\bfseries{ìš°ì„ ìˆœìœ„ ì—­ì „ ì•…í™”}}  &ë¹ ë¥´ê²Œ ëë‚´ì•¼ í•  ISRì´ ì˜¤ë˜ ë¨¸ë¬¼ë©´ ì „ì²´ ì‹œìŠ¤í…œ ì‘ë‹µ ì‹œê°„ì´ ì¦ê°€  \\\cline{1-2}
\end{longtabu}


âœ… ë”°ë¼ì„œ {\bfseries{ISRì—ì„œëŠ” ì˜¤ì§ â€œì‹œê·¸ë„ ì „ë‹¬ë§Œâ€}}, ì‹¤ ì²˜ë¦¬ëŠ” Taskë¡œ ë¯¸ë£¨ëŠ” ê²ƒì´ \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}ê°€ì¥ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ ì„¤ê³„ íŒ¨í„´\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}ì…ë‹ˆë‹¤. \texorpdfstring{$>$}{>}ì—¬ê¸°ì„œ ì„¸ë§ˆí¬ì–´ëŠ”â€¦ \hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md123}{}\doxysection{\texorpdfstring{\texorpdfstring{$>$}{>}ISRê³¼ Task ì‚¬ì´ì—ì„œ ì•ˆì „í•˜ê²Œ ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•˜ëŠ” ë§¤ê°œì²´ì…ë‹ˆë‹¤.}{\texorpdfstring{$>$}{>}ISRê³¼ Task ì‚¬ì´ì—ì„œ ì•ˆì „í•˜ê²Œ ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•˜ëŠ” ë§¤ê°œì²´ì…ë‹ˆë‹¤.}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md123}
\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md124}{}\doxysection{\texorpdfstring{6. ì£¼ìš” API ì„¤ëª…}{6. ì£¼ìš” API ì„¤ëª…}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md124}

\begin{DoxyItemize}
\item {\ttfamily x\+Semaphore\+Create\+Binary()} \+: Binary ì„¸ë§ˆí¬ì–´ ìƒì„±
\item {\ttfamily \doxylink{semphr_8h_a68aa43df8b2a0dbe17d05fad74670ef0}{x\+Semaphore\+Give\+From\+ISR()}} \+: ISR ë‚´ì—ì„œ ì‹œê·¸ë„ ë°œìƒ
\item {\ttfamily \doxylink{semphr_8h_af116e436d2a5ae5bd72dbade2b5ea930}{x\+Semaphore\+Take()}} \+: Task ë‚´ì—ì„œ ì‹œê·¸ë„ ìˆ˜ì‹ 
\item {\ttfamily \doxylink{portmacro_8h_aac6850c66595efdc02a8bbb95fb4648e}{port\+YIELD\+\_\+\+FROM\+\_\+\+ISR(pd\+TRUE)}} \+: ìš°ì„ ìˆœìœ„ ë†’ì€ Taskë¡œ ë¹ ë¥¸ ì „í™˜ ìš”ì²­
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md126}{}\doxysection{\texorpdfstring{7. ì¶œë ¥ ì˜ˆì‹œ (UART ë¡œê·¸)}{7. ì¶œë ¥ ì˜ˆì‹œ (UART ë¡œê·¸)}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md126}

\begin{DoxyCode}{0}
\DoxyCodeLine{Button\ Pressed!}

\end{DoxyCode}
 ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ ë¡œê·¸ ì¶œë ¥\hypertarget{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md127}{}\doxysection{\texorpdfstring{8. ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨}{8. ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨}}\label{md__c_1_2_users_2_t_o_v_i_s_2test_2_test_rtos_2_doc_24__1___s_e_m_a_p_h_o_r_e___b_i_n_a_r_y_s_e_m_a_p_h_o_r_e_autotoc_md127}

\begin{DoxyCode}{0}
\DoxyCodeLine{@startuml}
\DoxyCodeLine{title\ ì¸í„°ëŸ½íŠ¸\ -\/\ Binary\ Semaphore\ -\/\ Task\ ë™ê¸°í™”\ íë¦„}
\DoxyCodeLine{}
\DoxyCodeLine{participant\ "{}Button"{}\ as\ BTN}
\DoxyCodeLine{participant\ "{}EXTI\ IRQ\ (ISR)"{}\ as\ ISR}
\DoxyCodeLine{participant\ "{}Binary\ Semaphore"{}\ as\ SEM}
\DoxyCodeLine{participant\ "{}EventProcessTask"{}\ as\ TASK}
\DoxyCodeLine{}
\DoxyCodeLine{BTN\ -\/>\ ISR\ :\ ë²„íŠ¼\ ëˆ„ë¦„\ (INT\ ë°œìƒ)}
\DoxyCodeLine{activate\ ISR}
\DoxyCodeLine{ISR\ -\/>\ SEM\ :\ xSemaphoreGiveFromISR()}
\DoxyCodeLine{note\ right\ of\ ISR\ :\ ISRëŠ”\ ë¹ ë¥´ê²Œ\ ì¢…ë£Œë˜ì–´ì•¼\ í•¨}
\DoxyCodeLine{ISR\ -\/>\ Scheduler\ :\ portYIELD\_FROM\_ISR(pdTRUE)}
\DoxyCodeLine{deactivate\ ISR}
\DoxyCodeLine{}
\DoxyCodeLine{loop\ Task\ ë°˜ë³µ}
\DoxyCodeLine{\ \ \ \ TASK\ -\/>\ SEM\ :\ xSemaphoreTake()}
\DoxyCodeLine{\ \ \ \ SEM\ -\/-\/>\ TASK\ :\ ì´ë²¤íŠ¸\ ìˆ˜ì‹ }
\DoxyCodeLine{\ \ \ \ TASK\ -\/>\ UART\ :\ printf("{}Button\ Pressed!"{})}
\DoxyCodeLine{end}
\DoxyCodeLine{}
\DoxyCodeLine{@enduml}

\end{DoxyCode}


ğŸ’¡ í™•ì¥ ì•„ì´ë””ì–´
\begin{DoxyItemize}
\item Counting Semaphoreë¡œ í™•ì¥ â†’ ì—¬ëŸ¬ ì´ë²¤íŠ¸ ëˆ„ì  ìˆ˜ì‹  ê°€ëŠ¥
\item \doxylink{task_8h_aa154068cecd7f31446a7a84af44ab1a3}{v\+Task\+Delay()} ì œê±° â†’ TaskëŠ” ì™„ì „í•œ Blocking ëŒ€ê¸°ë¡œ ë¹ ë¥¸ ì‘ë‹µ
\item GPIO ì™¸ì—ë„ íƒ€ì´ë¨¸, ì„¼ì„œ ì¸í„°ëŸ½íŠ¸ ë“± ë‹¤ì–‘í•œ ì†ŒìŠ¤ì— ì‚¬ìš© ê°€ëŠ¥
\end{DoxyItemize}

ğŸ“ ê´€ë ¨ ê°œë… ìš”ì•½
\begin{DoxyItemize}
\item {\ttfamily Binary Semaphore} ë‹¨ì¼ ì‹ í˜¸ ì£¼ê³ ë°›ê¸°. ISR-\/\+Task ê°„ ê°„ë‹¨í•œ ì´ë²¤íŠ¸ ì „ë‹¬
\item {\ttfamily Counting Semaphore} ì—¬ëŸ¬ ì´ë²¤íŠ¸ ëˆ„ì  ì²˜ë¦¬. Bufferì²˜ëŸ¼ ì‘ë™
\item {\ttfamily Defer Interrupt Handling} ISRì—ì„œ ì§§ê²Œ ëë‚´ê³  Taskì—ì„œ ë³¸ ì²˜ë¦¬ ë‹´ë‹¹
\item {\ttfamily Context Switch} í˜„ì¬ Task â†’ ìš°ì„ ìˆœìœ„ ë†’ì€ Task ì „í™˜ ê³¼ì •
\end{DoxyItemize}

ğŸ› ï¸ ì‹¤ìˆ˜ ë°©ì§€ ì²´í¬ë¦¬ìŠ¤íŠ¸
\begin{DoxyItemize}
\item ISR ë‚´ë¶€ì—ì„œ printf, \doxylink{group___h_a_l___exported___functions___group2_gab1dc1e6b438daacfe38a312a90221330}{HAL\+\_\+\+Delay()} ì‚¬ìš© âŒ
\item ISR ì¢…ë£Œ ì§í›„ \doxylink{portmacro_8h_aac6850c66595efdc02a8bbb95fb4648e}{port\+YIELD\+\_\+\+FROM\+\_\+\+ISR()} í˜¸ì¶œ âœ…
\item ì„¸ë§ˆí¬ì–´ ìƒì„± í›„ NULL ì²´í¬ âœ…
\item EXTI\+\_\+\+Clear\+Flag ë˜ëŠ” \doxylink{group___g_p_i_o___exported___macros_ga2a086506eec826f49b200fba64beb9f1}{\+\_\+\+\_\+\+HAL\+\_\+\+GPIO\+\_\+\+EXTI\+\_\+\+CLEAR\+\_\+\+IT()} í˜¸ì¶œ âœ… 
\end{DoxyItemize}