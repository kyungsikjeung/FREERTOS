\doxysubsection{Fully-\/connected Layer Functions }
\hypertarget{group___f_c}{}\label{group___f_c}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
Collaboration diagram for Fully-\/connected Layer Functions\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group___f_c}
\end{center}
\end{figure}
\doxysubsubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_ga4a1521e7532a1e62d71f3b12762016e2}{arm\+\_\+fully\+\_\+connected\+\_\+mat\+\_\+q7\+\_\+vec\+\_\+q15}} (const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}pV, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}pM, const uint16\+\_\+t dim\+\_\+vec, const uint16\+\_\+t num\+\_\+of\+\_\+rows, const uint16\+\_\+t bias\+\_\+shift, const uint16\+\_\+t out\+\_\+shift, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}bias, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Out, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}vec\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Mixed Q15-\/\+Q7 fully-\/connected layer function. \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_gae3857bb6375692e81dde8cbd70adec08}{arm\+\_\+fully\+\_\+connected\+\_\+mat\+\_\+q7\+\_\+vec\+\_\+q15\+\_\+opt}} (const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}pV, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}pM, const uint16\+\_\+t dim\+\_\+vec, const uint16\+\_\+t num\+\_\+of\+\_\+rows, const uint16\+\_\+t bias\+\_\+shift, const uint16\+\_\+t out\+\_\+shift, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}bias, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Out, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}vec\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Mixed Q15-\/\+Q7 opt fully-\/connected layer function. \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_gaac666c212b209e636c2369dd5c75d0dc}{arm\+\_\+fully\+\_\+connected\+\_\+q15}} (const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}pV, const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}pM, const uint16\+\_\+t dim\+\_\+vec, const uint16\+\_\+t num\+\_\+of\+\_\+rows, const uint16\+\_\+t bias\+\_\+shift, const uint16\+\_\+t out\+\_\+shift, const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}bias, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Out, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}vec\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Q15 opt fully-\/connected layer function. \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_ga062912078da113f5dd2004fd919a0ff2}{arm\+\_\+fully\+\_\+connected\+\_\+q15\+\_\+opt}} (const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}pV, const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}pM, const uint16\+\_\+t dim\+\_\+vec, const uint16\+\_\+t num\+\_\+of\+\_\+rows, const uint16\+\_\+t bias\+\_\+shift, const uint16\+\_\+t out\+\_\+shift, const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}bias, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Out, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}vec\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Q15 opt fully-\/connected layer function. \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_ga8b7e0c2e989e8c75f0dc789f3115323d}{arm\+\_\+fully\+\_\+connected\+\_\+q7}} (const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}pV, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}pM, const uint16\+\_\+t dim\+\_\+vec, const uint16\+\_\+t num\+\_\+of\+\_\+rows, const uint16\+\_\+t bias\+\_\+shift, const uint16\+\_\+t out\+\_\+shift, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}bias, \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Out, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}vec\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Q7 basic fully-\/connected layer function. \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_gaf82b71ef472a38f8fc9ac414d9d07e67}{arm\+\_\+fully\+\_\+connected\+\_\+q7\+\_\+opt}} (const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}pV, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}pM, const uint16\+\_\+t dim\+\_\+vec, const uint16\+\_\+t num\+\_\+of\+\_\+rows, const uint16\+\_\+t bias\+\_\+shift, const uint16\+\_\+t out\+\_\+shift, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}bias, \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}p\+Out, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}vec\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em Q7 opt fully-\/connected layer function. \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_ga22aa22fe80e323429e8ac6aaeef878e8}{arm\+\_\+fully\+\_\+connected\+\_\+s16}} (const \mbox{\hyperlink{structcmsis__nn__context}{cmsis\+\_\+nn\+\_\+context}} \texorpdfstring{$\ast$}{*}ctx, const \mbox{\hyperlink{structcmsis__nn__fc__params}{cmsis\+\_\+nn\+\_\+fc\+\_\+params}} \texorpdfstring{$\ast$}{*}fc\+\_\+params, const \mbox{\hyperlink{structcmsis__nn__per__tensor__quant__params}{cmsis\+\_\+nn\+\_\+per\+\_\+tensor\+\_\+quant\+\_\+params}} \texorpdfstring{$\ast$}{*}quant\+\_\+params, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}input\+\_\+dims, const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}input, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}filter\+\_\+dims, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}kernel, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}bias\+\_\+dims, const int64\+\_\+t \texorpdfstring{$\ast$}{*}bias, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}output\+\_\+dims, \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}output)
\begin{DoxyCompactList}\small\item\em Basic s16 Fully Connected function. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{group___f_c_ga5f0e89482a3ea7ab417630be80ca983d}{arm\+\_\+fully\+\_\+connected\+\_\+s16\+\_\+get\+\_\+buffer\+\_\+size}} (const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}filter\+\_\+dims)
\begin{DoxyCompactList}\small\item\em Get the required buffer size for S16 basic fully-\/connected and matrix multiplication layer function for TF Lite. \end{DoxyCompactList}\item 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} \mbox{\hyperlink{group___f_c_ga30d44fed122f2e159a417f9c12181ded}{arm\+\_\+fully\+\_\+connected\+\_\+s8}} (const \mbox{\hyperlink{structcmsis__nn__context}{cmsis\+\_\+nn\+\_\+context}} \texorpdfstring{$\ast$}{*}ctx, const \mbox{\hyperlink{structcmsis__nn__fc__params}{cmsis\+\_\+nn\+\_\+fc\+\_\+params}} \texorpdfstring{$\ast$}{*}fc\+\_\+params, const \mbox{\hyperlink{structcmsis__nn__per__tensor__quant__params}{cmsis\+\_\+nn\+\_\+per\+\_\+tensor\+\_\+quant\+\_\+params}} \texorpdfstring{$\ast$}{*}quant\+\_\+params, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}input\+\_\+dims, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}input, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}filter\+\_\+dims, const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}kernel, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}bias\+\_\+dims, const int32\+\_\+t \texorpdfstring{$\ast$}{*}bias, const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}output\+\_\+dims, \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}output)
\begin{DoxyCompactList}\small\item\em Basic s8 Fully Connected function. \end{DoxyCompactList}\item 
int32\+\_\+t \mbox{\hyperlink{group___f_c_ga88e541ff9fb088ebccb79a7a6b8bbe1e}{arm\+\_\+fully\+\_\+connected\+\_\+s8\+\_\+get\+\_\+buffer\+\_\+size}} (const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}filter\+\_\+dims)
\begin{DoxyCompactList}\small\item\em Get the required buffer size for S8 basic fully-\/connected and matrix multiplication layer function for TF Lite. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsubsection{Detailed Description}
Collection of fully-\/connected and matrix multiplication functions.

Fully-\/connected layer is basically a matrix-\/vector multiplication with bias. The matrix is the weights and the input/output vectors are the activation values. Supported \{weight, activation\} precisions include \{8-\/bit, 8-\/bit\}, \{16-\/bit, 16-\/bit\}, and \{8-\/bit, 16-\/bit\}.

Here we have two types of kernel functions. The basic function implements the function using regular GEMV approach. The opt functions operates with weights in interleaved formats.

\label{doc-func-members}
\Hypertarget{group___f_c_doc-func-members}
\doxysubsubsection{Function Documentation}
\Hypertarget{group___f_c_ga4a1521e7532a1e62d71f3b12762016e2}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_mat\_q7\_vec\_q15@{arm\_fully\_connected\_mat\_q7\_vec\_q15}}
\index{arm\_fully\_connected\_mat\_q7\_vec\_q15@{arm\_fully\_connected\_mat\_q7\_vec\_q15}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_mat\_q7\_vec\_q15()}{arm\_fully\_connected\_mat\_q7\_vec\_q15()}}
{\footnotesize\ttfamily \label{group___f_c_ga4a1521e7532a1e62d71f3b12762016e2} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+mat\+\_\+q7\+\_\+vec\+\_\+q15 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pV}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pM}{, }\item[{const uint16\+\_\+t}]{dim\+\_\+vec}{, }\item[{const uint16\+\_\+t}]{num\+\_\+of\+\_\+rows}{, }\item[{const uint16\+\_\+t}]{bias\+\_\+shift}{, }\item[{const uint16\+\_\+t}]{out\+\_\+shift}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{bias}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Out}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{vec\+\_\+buffer}{}\end{DoxyParamCaption})}



Mixed Q15-\/\+Q7 fully-\/connected layer function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pV} & pointer to input vector \\
\hline
\mbox{\texttt{in}}  & {\em pM} & pointer to matrix weights \\
\hline
\mbox{\texttt{in}}  & {\em dim\+\_\+vec} & length of the vector \\
\hline
\mbox{\texttt{in}}  & {\em num\+\_\+of\+\_\+rows} & number of rows in weight matrix \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+shift} & amount of left-\/shift for bias \\
\hline
\mbox{\texttt{in}}  & {\em out\+\_\+shift} & amount of right-\/shift for output \\
\hline
\mbox{\texttt{in}}  & {\em bias} & pointer to bias \\
\hline
\mbox{\texttt{in,out}}  & {\em p\+Out} & pointer to output vector \\
\hline
\mbox{\texttt{in,out}}  & {\em vec\+\_\+buffer} & pointer to buffer space for input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}
{\bfseries{Buffer size\+:}}

vec\+\_\+buffer size\+: 0

Q7\+\_\+\+Q15 version of the fully connected layer

Weights are in \doxylink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t} and Activations are in \doxylink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t} 

Definition at line \mbox{\hyperlink{arm__fully__connected__mat__q7__vec__q15_8c_source_l00068}{68}} of file \mbox{\hyperlink{arm__fully__connected__mat__q7__vec__q15_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+mat\+\_\+q7\+\_\+vec\+\_\+q15.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{group___f_c_ga4a1521e7532a1e62d71f3b12762016e2_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_gae3857bb6375692e81dde8cbd70adec08}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_mat\_q7\_vec\_q15\_opt@{arm\_fully\_connected\_mat\_q7\_vec\_q15\_opt}}
\index{arm\_fully\_connected\_mat\_q7\_vec\_q15\_opt@{arm\_fully\_connected\_mat\_q7\_vec\_q15\_opt}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_mat\_q7\_vec\_q15\_opt()}{arm\_fully\_connected\_mat\_q7\_vec\_q15\_opt()}}
{\footnotesize\ttfamily \label{group___f_c_gae3857bb6375692e81dde8cbd70adec08} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+mat\+\_\+q7\+\_\+vec\+\_\+q15\+\_\+opt (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pV}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pM}{, }\item[{const uint16\+\_\+t}]{dim\+\_\+vec}{, }\item[{const uint16\+\_\+t}]{num\+\_\+of\+\_\+rows}{, }\item[{const uint16\+\_\+t}]{bias\+\_\+shift}{, }\item[{const uint16\+\_\+t}]{out\+\_\+shift}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{bias}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Out}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{vec\+\_\+buffer}{}\end{DoxyParamCaption})}



Mixed Q15-\/\+Q7 opt fully-\/connected layer function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pV} & pointer to input vector \\
\hline
\mbox{\texttt{in}}  & {\em pM} & pointer to matrix weights \\
\hline
\mbox{\texttt{in}}  & {\em dim\+\_\+vec} & length of the vector \\
\hline
\mbox{\texttt{in}}  & {\em num\+\_\+of\+\_\+rows} & number of rows in weight matrix \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+shift} & amount of left-\/shift for bias \\
\hline
\mbox{\texttt{in}}  & {\em out\+\_\+shift} & amount of right-\/shift for output \\
\hline
\mbox{\texttt{in}}  & {\em bias} & pointer to bias \\
\hline
\mbox{\texttt{in,out}}  & {\em p\+Out} & pointer to output vector \\
\hline
\mbox{\texttt{in,out}}  & {\em vec\+\_\+buffer} & pointer to buffer space for input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}
{\bfseries{Buffer size\+:}}

vec\+\_\+buffer size\+: 0

Q7\+\_\+\+Q15 version of the fully connected layer

Weights are in \doxylink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t} and Activations are in \doxylink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}

Limitation\+: x4 version requires weight reordering to work

Here we use only one pointer to read 4 rows in the weight matrix. So if the original \doxylink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t} matrix looks like this\+:

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a14 \texorpdfstring{$\vert$}{|} a15 \texorpdfstring{$\vert$}{|} a16 \texorpdfstring{$\vert$}{|} a17 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a24 \texorpdfstring{$\vert$}{|} a25 \texorpdfstring{$\vert$}{|} a26 \texorpdfstring{$\vert$}{|} a27 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a34 \texorpdfstring{$\vert$}{|} a35 \texorpdfstring{$\vert$}{|} a36 \texorpdfstring{$\vert$}{|} a37 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|} a44 \texorpdfstring{$\vert$}{|} a45 \texorpdfstring{$\vert$}{|} a46 \texorpdfstring{$\vert$}{|} a47 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a51 \texorpdfstring{$\vert$}{|} a52 \texorpdfstring{$\vert$}{|} a53 \texorpdfstring{$\vert$}{|} a54 \texorpdfstring{$\vert$}{|} a55 \texorpdfstring{$\vert$}{|} a56 \texorpdfstring{$\vert$}{|} a57 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a61 \texorpdfstring{$\vert$}{|} a62 \texorpdfstring{$\vert$}{|} a63 \texorpdfstring{$\vert$}{|} a64 \texorpdfstring{$\vert$}{|} a65 \texorpdfstring{$\vert$}{|} a66 \texorpdfstring{$\vert$}{|} a67 \texorpdfstring{$\vert$}{|}

We operates on multiple-\/of-\/4 rows, so the first four rows becomes

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a14 \texorpdfstring{$\vert$}{|} a24 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|} a34 \texorpdfstring{$\vert$}{|} a44 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a15 \texorpdfstring{$\vert$}{|} a25 \texorpdfstring{$\vert$}{|} a16 \texorpdfstring{$\vert$}{|} a26 \texorpdfstring{$\vert$}{|} a35 \texorpdfstring{$\vert$}{|} a45 \texorpdfstring{$\vert$}{|} a36 \texorpdfstring{$\vert$}{|} a46 \texorpdfstring{$\vert$}{|}

The column left over will be in-\/order. which is\+: \texorpdfstring{$\vert$}{|} a17 \texorpdfstring{$\vert$}{|} a27 \texorpdfstring{$\vert$}{|} a37 \texorpdfstring{$\vert$}{|} a47 \texorpdfstring{$\vert$}{|}

For the left-\/over rows, we do 1x1 computation, so the data remains as its original order.

So the stored weight matrix looks like this\+:

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a14 \texorpdfstring{$\vert$}{|} a24 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|} a34 \texorpdfstring{$\vert$}{|} a44 \texorpdfstring{$\vert$}{|} a15 \texorpdfstring{$\vert$}{|} a25 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a16 \texorpdfstring{$\vert$}{|} a26 \texorpdfstring{$\vert$}{|} a35 \texorpdfstring{$\vert$}{|} a45 \texorpdfstring{$\vert$}{|} a36 \texorpdfstring{$\vert$}{|} a46 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a17 \texorpdfstring{$\vert$}{|} a27 \texorpdfstring{$\vert$}{|} a37 \texorpdfstring{$\vert$}{|} a47 \texorpdfstring{$\vert$}{|} a51 \texorpdfstring{$\vert$}{|} a52 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a53 \texorpdfstring{$\vert$}{|} a54 \texorpdfstring{$\vert$}{|} a55 \texorpdfstring{$\vert$}{|} a56 \texorpdfstring{$\vert$}{|} a57 \texorpdfstring{$\vert$}{|} a61 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a62 \texorpdfstring{$\vert$}{|} a63 \texorpdfstring{$\vert$}{|} a64 \texorpdfstring{$\vert$}{|} a65 \texorpdfstring{$\vert$}{|} a66 \texorpdfstring{$\vert$}{|} a67 \texorpdfstring{$\vert$}{|} 

Definition at line \mbox{\hyperlink{arm__fully__connected__mat__q7__vec__q15__opt_8c_source_l00116}{116}} of file \mbox{\hyperlink{arm__fully__connected__mat__q7__vec__q15__opt_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+mat\+\_\+q7\+\_\+vec\+\_\+q15\+\_\+opt.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=347pt]{group___f_c_gae3857bb6375692e81dde8cbd70adec08_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_gaac666c212b209e636c2369dd5c75d0dc}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_q15@{arm\_fully\_connected\_q15}}
\index{arm\_fully\_connected\_q15@{arm\_fully\_connected\_q15}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_q15()}{arm\_fully\_connected\_q15()}}
{\footnotesize\ttfamily \label{group___f_c_gaac666c212b209e636c2369dd5c75d0dc} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+q15 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pV}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pM}{, }\item[{const uint16\+\_\+t}]{dim\+\_\+vec}{, }\item[{const uint16\+\_\+t}]{num\+\_\+of\+\_\+rows}{, }\item[{const uint16\+\_\+t}]{bias\+\_\+shift}{, }\item[{const uint16\+\_\+t}]{out\+\_\+shift}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{bias}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Out}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{vec\+\_\+buffer}{}\end{DoxyParamCaption})}



Q15 opt fully-\/connected layer function. 

Q15 basic fully-\/connected layer function.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pV} & pointer to input vector \\
\hline
\mbox{\texttt{in}}  & {\em pM} & pointer to matrix weights \\
\hline
\mbox{\texttt{in}}  & {\em dim\+\_\+vec} & length of the vector \\
\hline
\mbox{\texttt{in}}  & {\em num\+\_\+of\+\_\+rows} & number of rows in weight matrix \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+shift} & amount of left-\/shift for bias \\
\hline
\mbox{\texttt{in}}  & {\em out\+\_\+shift} & amount of right-\/shift for output \\
\hline
\mbox{\texttt{in}}  & {\em bias} & pointer to bias \\
\hline
\mbox{\texttt{in,out}}  & {\em p\+Out} & pointer to output vector \\
\hline
\mbox{\texttt{in,out}}  & {\em vec\+\_\+buffer} & pointer to buffer space for input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}
{\bfseries{Buffer size\+:}}

vec\+\_\+buffer size\+: 0 

Definition at line \mbox{\hyperlink{arm__fully__connected__q15_8c_source_l00065}{65}} of file \mbox{\hyperlink{arm__fully__connected__q15_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+q15.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group___f_c_gaac666c212b209e636c2369dd5c75d0dc_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_ga062912078da113f5dd2004fd919a0ff2}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_q15\_opt@{arm\_fully\_connected\_q15\_opt}}
\index{arm\_fully\_connected\_q15\_opt@{arm\_fully\_connected\_q15\_opt}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_q15\_opt()}{arm\_fully\_connected\_q15\_opt()}}
{\footnotesize\ttfamily \label{group___f_c_ga062912078da113f5dd2004fd919a0ff2} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+q15\+\_\+opt (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pV}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pM}{, }\item[{const uint16\+\_\+t}]{dim\+\_\+vec}{, }\item[{const uint16\+\_\+t}]{num\+\_\+of\+\_\+rows}{, }\item[{const uint16\+\_\+t}]{bias\+\_\+shift}{, }\item[{const uint16\+\_\+t}]{out\+\_\+shift}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{bias}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Out}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{vec\+\_\+buffer}{}\end{DoxyParamCaption})}



Q15 opt fully-\/connected layer function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pV} & pointer to input vector \\
\hline
\mbox{\texttt{in}}  & {\em pM} & pointer to matrix weights \\
\hline
\mbox{\texttt{in}}  & {\em dim\+\_\+vec} & length of the vector \\
\hline
\mbox{\texttt{in}}  & {\em num\+\_\+of\+\_\+rows} & number of rows in weight matrix \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+shift} & amount of left-\/shift for bias \\
\hline
\mbox{\texttt{in}}  & {\em out\+\_\+shift} & amount of right-\/shift for output \\
\hline
\mbox{\texttt{in}}  & {\em bias} & pointer to bias \\
\hline
\mbox{\texttt{in,out}}  & {\em p\+Out} & pointer to output vector \\
\hline
\mbox{\texttt{in,out}}  & {\em vec\+\_\+buffer} & pointer to buffer space for input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}
{\bfseries{Buffer size\+:}}

vec\+\_\+buffer size\+: 0

Here we use only one pointer to read 4 rows in the weight matrix. So if the original matrix looks like this\+:

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a51 \texorpdfstring{$\vert$}{|} a52 \texorpdfstring{$\vert$}{|} a53 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a61 \texorpdfstring{$\vert$}{|} a62 \texorpdfstring{$\vert$}{|} a63 \texorpdfstring{$\vert$}{|}

We operates on multiple-\/of-\/4 rows, so the first four rows becomes

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|}

Remaining rows are kept the same original order.

So the stored weight matrix looks like this\+:

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|} a51 \texorpdfstring{$\vert$}{|} a52 \texorpdfstring{$\vert$}{|} a53 \texorpdfstring{$\vert$}{|} a61 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a62 \texorpdfstring{$\vert$}{|} a63 \texorpdfstring{$\vert$}{|} 

Definition at line \mbox{\hyperlink{arm__fully__connected__q15__opt_8c_source_l00096}{96}} of file \mbox{\hyperlink{arm__fully__connected__q15__opt_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+q15\+\_\+opt.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{group___f_c_ga062912078da113f5dd2004fd919a0ff2_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_ga8b7e0c2e989e8c75f0dc789f3115323d}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_q7@{arm\_fully\_connected\_q7}}
\index{arm\_fully\_connected\_q7@{arm\_fully\_connected\_q7}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_q7()}{arm\_fully\_connected\_q7()}}
{\footnotesize\ttfamily \label{group___f_c_ga8b7e0c2e989e8c75f0dc789f3115323d} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+q7 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pV}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pM}{, }\item[{const uint16\+\_\+t}]{dim\+\_\+vec}{, }\item[{const uint16\+\_\+t}]{num\+\_\+of\+\_\+rows}{, }\item[{const uint16\+\_\+t}]{bias\+\_\+shift}{, }\item[{const uint16\+\_\+t}]{out\+\_\+shift}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{bias}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Out}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{vec\+\_\+buffer}{}\end{DoxyParamCaption})}



Q7 basic fully-\/connected layer function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pV} & pointer to input vector \\
\hline
\mbox{\texttt{in}}  & {\em pM} & pointer to matrix weights \\
\hline
\mbox{\texttt{in}}  & {\em dim\+\_\+vec} & length of the vector \\
\hline
\mbox{\texttt{in}}  & {\em num\+\_\+of\+\_\+rows} & number of rows in weight matrix \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+shift} & amount of left-\/shift for bias \\
\hline
\mbox{\texttt{in}}  & {\em out\+\_\+shift} & amount of right-\/shift for output \\
\hline
\mbox{\texttt{in}}  & {\em bias} & pointer to bias \\
\hline
\mbox{\texttt{in,out}}  & {\em p\+Out} & pointer to output vector \\
\hline
\mbox{\texttt{in,out}}  & {\em vec\+\_\+buffer} & pointer to buffer space for input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}
{\bfseries{Buffer size\+:}}

vec\+\_\+buffer size\+: dim\+\_\+vec

This basic function is designed to work with regular weight matrix without interleaving. 

Definition at line \mbox{\hyperlink{arm__fully__connected__q7_8c_source_l00067}{67}} of file \mbox{\hyperlink{arm__fully__connected__q7_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+q7.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group___f_c_ga8b7e0c2e989e8c75f0dc789f3115323d_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_gaf82b71ef472a38f8fc9ac414d9d07e67}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_q7\_opt@{arm\_fully\_connected\_q7\_opt}}
\index{arm\_fully\_connected\_q7\_opt@{arm\_fully\_connected\_q7\_opt}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_q7\_opt()}{arm\_fully\_connected\_q7\_opt()}}
{\footnotesize\ttfamily \label{group___f_c_gaf82b71ef472a38f8fc9ac414d9d07e67} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+q7\+\_\+opt (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pV}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{pM}{, }\item[{const uint16\+\_\+t}]{dim\+\_\+vec}{, }\item[{const uint16\+\_\+t}]{num\+\_\+of\+\_\+rows}{, }\item[{const uint16\+\_\+t}]{bias\+\_\+shift}{, }\item[{const uint16\+\_\+t}]{out\+\_\+shift}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{bias}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{p\+Out}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{vec\+\_\+buffer}{}\end{DoxyParamCaption})}



Q7 opt fully-\/connected layer function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em pV} & pointer to input vector \\
\hline
\mbox{\texttt{in}}  & {\em pM} & pointer to matrix weights \\
\hline
\mbox{\texttt{in}}  & {\em dim\+\_\+vec} & length of the vector \\
\hline
\mbox{\texttt{in}}  & {\em num\+\_\+of\+\_\+rows} & number of rows in weight matrix \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+shift} & amount of left-\/shift for bias \\
\hline
\mbox{\texttt{in}}  & {\em out\+\_\+shift} & amount of right-\/shift for output \\
\hline
\mbox{\texttt{in}}  & {\em bias} & pointer to bias \\
\hline
\mbox{\texttt{in,out}}  & {\em p\+Out} & pointer to output vector \\
\hline
\mbox{\texttt{in,out}}  & {\em vec\+\_\+buffer} & pointer to buffer space for input \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}
{\bfseries{Buffer size\+:}}

vec\+\_\+buffer size\+: dim\+\_\+vec

This opt function is designed to work with interleaved weight matrix. The vector input is assumed in \doxylink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t} format, we call arm\+\_\+q7\+\_\+to\+\_\+q15\+\_\+no\+\_\+shift\+\_\+shuffle function to expand into \doxylink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t} format with certain weight re-\/ordering, refer to the function comments for more details. Here we use only one pointer to read 4 rows in the weight matrix. So if the original \doxylink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t} matrix looks like this\+:

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a14 \texorpdfstring{$\vert$}{|} a15 \texorpdfstring{$\vert$}{|} a16 \texorpdfstring{$\vert$}{|} a17 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a24 \texorpdfstring{$\vert$}{|} a25 \texorpdfstring{$\vert$}{|} a26 \texorpdfstring{$\vert$}{|} a27 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a34 \texorpdfstring{$\vert$}{|} a35 \texorpdfstring{$\vert$}{|} a36 \texorpdfstring{$\vert$}{|} a37 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|} a44 \texorpdfstring{$\vert$}{|} a45 \texorpdfstring{$\vert$}{|} a46 \texorpdfstring{$\vert$}{|} a47 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a51 \texorpdfstring{$\vert$}{|} a52 \texorpdfstring{$\vert$}{|} a53 \texorpdfstring{$\vert$}{|} a54 \texorpdfstring{$\vert$}{|} a55 \texorpdfstring{$\vert$}{|} a56 \texorpdfstring{$\vert$}{|} a57 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a61 \texorpdfstring{$\vert$}{|} a62 \texorpdfstring{$\vert$}{|} a63 \texorpdfstring{$\vert$}{|} a64 \texorpdfstring{$\vert$}{|} a65 \texorpdfstring{$\vert$}{|} a66 \texorpdfstring{$\vert$}{|} a67 \texorpdfstring{$\vert$}{|}

We operates on multiple-\/of-\/4 rows, so the first four rows becomes

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a14 \texorpdfstring{$\vert$}{|} a24 \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|} a34 \texorpdfstring{$\vert$}{|} a44 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a15 \texorpdfstring{$\vert$}{|} a25 \texorpdfstring{$\vert$}{|} a35 \texorpdfstring{$\vert$}{|} a45 \texorpdfstring{$\vert$}{|} a16 \texorpdfstring{$\vert$}{|} a26 \texorpdfstring{$\vert$}{|} a36 \texorpdfstring{$\vert$}{|} a46 \texorpdfstring{$\vert$}{|}

So within the kernel, we first read the re-\/ordered vector in as\+:

\texorpdfstring{$\vert$}{|} b1 \texorpdfstring{$\vert$}{|} b3 \texorpdfstring{$\vert$}{|} and \texorpdfstring{$\vert$}{|} b2 \texorpdfstring{$\vert$}{|} b4 \texorpdfstring{$\vert$}{|}

the four \doxylink{arm__math__types_8h_adc89a3547f5324b7b3b95adec3806bc0}{q31\+\_\+t} weights will look like

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|}, \texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|}, \texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|}, \texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a14 \texorpdfstring{$\vert$}{|}, \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a24 \texorpdfstring{$\vert$}{|}, \texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a34 \texorpdfstring{$\vert$}{|}, \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|} a44 \texorpdfstring{$\vert$}{|}

The column left over will be in-\/order. which is\+:

\texorpdfstring{$\vert$}{|} a17 \texorpdfstring{$\vert$}{|} a27 \texorpdfstring{$\vert$}{|} a37 \texorpdfstring{$\vert$}{|} a47 \texorpdfstring{$\vert$}{|}

For the left-\/over rows, we do 1x1 computation, so the data remains as its original order.

So the stored weight matrix looks like this\+:

\texorpdfstring{$\vert$}{|} a11 \texorpdfstring{$\vert$}{|} a21 \texorpdfstring{$\vert$}{|} a13 \texorpdfstring{$\vert$}{|} a23 \texorpdfstring{$\vert$}{|} a31 \texorpdfstring{$\vert$}{|} a41 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a33 \texorpdfstring{$\vert$}{|} a43 \texorpdfstring{$\vert$}{|} a12 \texorpdfstring{$\vert$}{|} a22 \texorpdfstring{$\vert$}{|} a14 \texorpdfstring{$\vert$}{|} a24 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a32 \texorpdfstring{$\vert$}{|} a42 \texorpdfstring{$\vert$}{|} a34 \texorpdfstring{$\vert$}{|} a44 \texorpdfstring{$\vert$}{|} a15 \texorpdfstring{$\vert$}{|} a25 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a35 \texorpdfstring{$\vert$}{|} a45 \texorpdfstring{$\vert$}{|} a16 \texorpdfstring{$\vert$}{|} a26 \texorpdfstring{$\vert$}{|} a36 \texorpdfstring{$\vert$}{|} a46 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a17 \texorpdfstring{$\vert$}{|} a27 \texorpdfstring{$\vert$}{|} a37 \texorpdfstring{$\vert$}{|} a47 \texorpdfstring{$\vert$}{|} a51 \texorpdfstring{$\vert$}{|} a52 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a53 \texorpdfstring{$\vert$}{|} a54 \texorpdfstring{$\vert$}{|} a55 \texorpdfstring{$\vert$}{|} a56 \texorpdfstring{$\vert$}{|} a57 \texorpdfstring{$\vert$}{|} a61 \texorpdfstring{$\vert$}{|}

\texorpdfstring{$\vert$}{|} a62 \texorpdfstring{$\vert$}{|} a63 \texorpdfstring{$\vert$}{|} a64 \texorpdfstring{$\vert$}{|} a65 \texorpdfstring{$\vert$}{|} a66 \texorpdfstring{$\vert$}{|} a67 \texorpdfstring{$\vert$}{|} 

Definition at line \mbox{\hyperlink{arm__fully__connected__q7__opt_8c_source_l00128}{128}} of file \mbox{\hyperlink{arm__fully__connected__q7__opt_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+q7\+\_\+opt.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group___f_c_gaf82b71ef472a38f8fc9ac414d9d07e67_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_ga22aa22fe80e323429e8ac6aaeef878e8}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_s16@{arm\_fully\_connected\_s16}}
\index{arm\_fully\_connected\_s16@{arm\_fully\_connected\_s16}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_s16()}{arm\_fully\_connected\_s16()}}
{\footnotesize\ttfamily \label{group___f_c_ga22aa22fe80e323429e8ac6aaeef878e8} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+s16 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcmsis__nn__context}{cmsis\+\_\+nn\+\_\+context}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__fc__params}{cmsis\+\_\+nn\+\_\+fc\+\_\+params}} \texorpdfstring{$\ast$}{*}}]{fc\+\_\+params}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__per__tensor__quant__params}{cmsis\+\_\+nn\+\_\+per\+\_\+tensor\+\_\+quant\+\_\+params}} \texorpdfstring{$\ast$}{*}}]{quant\+\_\+params}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{input\+\_\+dims}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{input\+\_\+data}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{filter\+\_\+dims}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{filter\+\_\+data}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{bias\+\_\+dims}{, }\item[{const int64\+\_\+t \texorpdfstring{$\ast$}{*}}]{bias\+\_\+data}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{output\+\_\+dims}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ab5a8fb21a5b3b983d5f54f31614052ea}{q15\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{output\+\_\+data}{}\end{DoxyParamCaption})}



Basic s16 Fully Connected function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in,out}}  & {\em ctx} & Function context (e.\+g. temporary buffer). Check the function definition file to see if an additional buffer is required. Optional function \{API\}\+\_\+get\+\_\+buffer\+\_\+size() provides the buffer size if an additional buffer is required. \\
\hline
\mbox{\texttt{in}}  & {\em fc\+\_\+params} & Fully Connected layer parameters. fc\+\_\+params-\/\texorpdfstring{$>$}{>}input\+\_\+offset \+: 0 fc\+\_\+params-\/\texorpdfstring{$>$}{>}filter\+\_\+offset \+: 0 fc\+\_\+params-\/\texorpdfstring{$>$}{>}output\+\_\+offset \+: 0 \\
\hline
\mbox{\texttt{in}}  & {\em quant\+\_\+params} & Per-\/tensor quantization info. It contains the multiplier and shift values to be applied to the output tensor. \\
\hline
\mbox{\texttt{in}}  & {\em input\+\_\+dims} & Input (activation) tensor dimensions. Format\+: \mbox{[}N, H, W, C\+\_\+\+IN\mbox{]} Input dimension is taken as Nx(\+H \texorpdfstring{$\ast$}{*} W \texorpdfstring{$\ast$}{*} C\+\_\+\+IN) \\
\hline
\mbox{\texttt{in}}  & {\em input\+\_\+data} & Input (activation) data pointer. Data type\+: int16 \\
\hline
\mbox{\texttt{in}}  & {\em filter\+\_\+dims} & Two dimensional filter dimensions. Format\+: \mbox{[}N, C\mbox{]} N \+: accumulation depth and equals (H \texorpdfstring{$\ast$}{*} W \texorpdfstring{$\ast$}{*} C\+\_\+\+IN) from input\+\_\+dims C \+: output depth and equals C\+\_\+\+OUT in output\+\_\+dims H \& W \+: Not used \\
\hline
\mbox{\texttt{in}}  & {\em filter\+\_\+data} & Filter data pointer. Data type\+: int8 \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+dims} & Bias tensor dimensions. Format\+: \mbox{[}C\+\_\+\+OUT\mbox{]} N, H, W \+: Not used \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+data} & Bias data pointer. Data type\+: int64 \\
\hline
\mbox{\texttt{in}}  & {\em output\+\_\+dims} & Output tensor dimensions. Format\+: \mbox{[}N, C\+\_\+\+OUT\mbox{]} N \+: Batches C\+\_\+\+OUT \+: Output depth H \& W \+: Not used. \\
\hline
\mbox{\texttt{in,out}}  & {\em output\+\_\+data} & Output data pointer. Data type\+: int16 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}

\begin{DoxyItemize}
\item Supported framework\+: Tensor\+Flow Lite
\item q15 is used as data type eventhough it is s16 data. It is done so to be consistent with existing APIs. 
\end{DoxyItemize}

Definition at line \mbox{\hyperlink{arm__fully__connected__s16_8c_source_l00049}{49}} of file \mbox{\hyperlink{arm__fully__connected__s16_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+s16.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group___f_c_ga22aa22fe80e323429e8ac6aaeef878e8_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_ga5f0e89482a3ea7ab417630be80ca983d}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_s16\_get\_buffer\_size@{arm\_fully\_connected\_s16\_get\_buffer\_size}}
\index{arm\_fully\_connected\_s16\_get\_buffer\_size@{arm\_fully\_connected\_s16\_get\_buffer\_size}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_s16\_get\_buffer\_size()}{arm\_fully\_connected\_s16\_get\_buffer\_size()}}
{\footnotesize\ttfamily \label{group___f_c_ga5f0e89482a3ea7ab417630be80ca983d} 
int32\+\_\+t arm\+\_\+fully\+\_\+connected\+\_\+s16\+\_\+get\+\_\+buffer\+\_\+size (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{filter\+\_\+dims}{}\end{DoxyParamCaption})}



Get the required buffer size for S16 basic fully-\/connected and matrix multiplication layer function for TF Lite. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em filter\+\_\+dims} & dimension of filter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns required buffer size in bytes 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{arm__fully__connected__s16_8c_source_l00089}{89}} of file \mbox{\hyperlink{arm__fully__connected__s16_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+s16.\+c}}.

\Hypertarget{group___f_c_ga30d44fed122f2e159a417f9c12181ded}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_s8@{arm\_fully\_connected\_s8}}
\index{arm\_fully\_connected\_s8@{arm\_fully\_connected\_s8}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_s8()}{arm\_fully\_connected\_s8()}}
{\footnotesize\ttfamily \label{group___f_c_ga30d44fed122f2e159a417f9c12181ded} 
\mbox{\hyperlink{arm__math__types_8h_a5e459c6409dfcd2927bb8a57491d7cf6}{arm\+\_\+status}} arm\+\_\+fully\+\_\+connected\+\_\+s8 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcmsis__nn__context}{cmsis\+\_\+nn\+\_\+context}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__fc__params}{cmsis\+\_\+nn\+\_\+fc\+\_\+params}} \texorpdfstring{$\ast$}{*}}]{fc\+\_\+params}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__per__tensor__quant__params}{cmsis\+\_\+nn\+\_\+per\+\_\+tensor\+\_\+quant\+\_\+params}} \texorpdfstring{$\ast$}{*}}]{quant\+\_\+params}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{input\+\_\+dims}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{input\+\_\+data}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{filter\+\_\+dims}{, }\item[{const \mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{filter\+\_\+data}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{bias\+\_\+dims}{, }\item[{const int32\+\_\+t \texorpdfstring{$\ast$}{*}}]{bias\+\_\+data}{, }\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{output\+\_\+dims}{, }\item[{\mbox{\hyperlink{arm__math__types_8h_ae541b6f232c305361e9b416fc9eed263}{q7\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{output\+\_\+data}{}\end{DoxyParamCaption})}



Basic s8 Fully Connected function. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in,out}}  & {\em ctx} & Function context (e.\+g. temporary buffer). Check the function definition file to see if an additional buffer is required. Optional function \{API\}\+\_\+get\+\_\+buffer\+\_\+size() provides the buffer size if an additional buffer is required. \\
\hline
\mbox{\texttt{in}}  & {\em fc\+\_\+params} & Fully Connected layer parameters. Range of fc\+\_\+params-\/\texorpdfstring{$>$}{>}input\+\_\+offset \+: \mbox{[}-\/127, 128\mbox{]} fc\+\_\+params-\/\texorpdfstring{$>$}{>}filter\+\_\+offset \+: 0 Range of fc\+\_\+params-\/\texorpdfstring{$>$}{>}output\+\_\+offset \+: \mbox{[}-\/128, 127\mbox{]} \\
\hline
\mbox{\texttt{in}}  & {\em quant\+\_\+params} & Per-\/tensor quantization info. It contains the multiplier and shift values to be applied to the output tensor. \\
\hline
\mbox{\texttt{in}}  & {\em input\+\_\+dims} & Input (activation) tensor dimensions. Format\+: \mbox{[}N, H, W, C\+\_\+\+IN\mbox{]} Input dimension is taken as Nx(\+H \texorpdfstring{$\ast$}{*} W \texorpdfstring{$\ast$}{*} C\+\_\+\+IN) \\
\hline
\mbox{\texttt{in}}  & {\em input\+\_\+data} & Input (activation) data pointer. Data type\+: int8 \\
\hline
\mbox{\texttt{in}}  & {\em filter\+\_\+dims} & Two dimensional filter dimensions. Format\+: \mbox{[}N, C\mbox{]} N \+: accumulation depth and equals (H \texorpdfstring{$\ast$}{*} W \texorpdfstring{$\ast$}{*} C\+\_\+\+IN) from input\+\_\+dims C \+: output depth and equals C\+\_\+\+OUT in output\+\_\+dims H \& W \+: Not used \\
\hline
\mbox{\texttt{in}}  & {\em filter\+\_\+data} & Filter data pointer. Data type\+: int8 \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+dims} & Bias tensor dimensions. Format\+: \mbox{[}C\+\_\+\+OUT\mbox{]} N, H, W \+: Not used \\
\hline
\mbox{\texttt{in}}  & {\em bias\+\_\+data} & Bias data pointer. Data type\+: int32 \\
\hline
\mbox{\texttt{in}}  & {\em output\+\_\+dims} & Output tensor dimensions. Format\+: \mbox{[}N, C\+\_\+\+OUT\mbox{]} N \+: Batches C\+\_\+\+OUT \+: Output depth H \& W \+: Not used. \\
\hline
\mbox{\texttt{in,out}}  & {\em output\+\_\+data} & Output data pointer. Data type\+: int8 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns {\ttfamily ARM\+\_\+\+MATH\+\_\+\+SUCCESS}
\end{DoxyReturn}

\begin{DoxyItemize}
\item Supported framework\+: Tensor\+Flow Lite
\item q7 is used as data type eventhough it is s8 data. It is done so to be consistent with existing APIs. 
\end{DoxyItemize}

Definition at line \mbox{\hyperlink{arm__fully__connected__s8_8c_source_l00050}{50}} of file \mbox{\hyperlink{arm__fully__connected__s8_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+s8.\+c}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group___f_c_ga30d44fed122f2e159a417f9c12181ded_cgraph}
\end{center}
\end{figure}
\Hypertarget{group___f_c_ga88e541ff9fb088ebccb79a7a6b8bbe1e}\index{Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}!arm\_fully\_connected\_s8\_get\_buffer\_size@{arm\_fully\_connected\_s8\_get\_buffer\_size}}
\index{arm\_fully\_connected\_s8\_get\_buffer\_size@{arm\_fully\_connected\_s8\_get\_buffer\_size}!Fully-\/connected Layer Functions@{Fully-\/connected Layer Functions}}
\doxysubsubsubsection{\texorpdfstring{arm\_fully\_connected\_s8\_get\_buffer\_size()}{arm\_fully\_connected\_s8\_get\_buffer\_size()}}
{\footnotesize\ttfamily \label{group___f_c_ga88e541ff9fb088ebccb79a7a6b8bbe1e} 
int32\+\_\+t arm\+\_\+fully\+\_\+connected\+\_\+s8\+\_\+get\+\_\+buffer\+\_\+size (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structcmsis__nn__dims}{cmsis\+\_\+nn\+\_\+dims}} \texorpdfstring{$\ast$}{*}}]{filter\+\_\+dims}{}\end{DoxyParamCaption})}



Get the required buffer size for S8 basic fully-\/connected and matrix multiplication layer function for TF Lite. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{in}}  & {\em filter\+\_\+dims} & dimension of filter \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The function returns required buffer size in bytes 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{arm__fully__connected__s8_8c_source_l00091}{91}} of file \mbox{\hyperlink{arm__fully__connected__s8_8c_source}{arm\+\_\+fully\+\_\+connected\+\_\+s8.\+c}}.

