\doxysection{C\+:/\+Users/\+TOVIS/test/\+Test\+Rtos/\+Drivers/\+STM32\+F4xx\+\_\+\+HAL\+\_\+\+Driver/\+Src/stm32f4xx\+\_\+hal\+\_\+timebase\+\_\+rtc\+\_\+alarm\+\_\+template.c File Reference}
\hypertarget{stm32f4xx__hal__timebase__rtc__alarm__template_8c}{}\label{stm32f4xx__hal__timebase__rtc__alarm__template_8c}\index{C:/Users/TOVIS/test/TestRtos/Drivers/STM32F4xx\_HAL\_Driver/Src/stm32f4xx\_hal\_timebase\_rtc\_alarm\_template.c@{C:/Users/TOVIS/test/TestRtos/Drivers/STM32F4xx\_HAL\_Driver/Src/stm32f4xx\_hal\_timebase\_rtc\_alarm\_template.c}}


HAL time base based on the hardware RTC\+\_\+\+ALARM Template.  


{\ttfamily \#include "{}stm32f4xx\+\_\+hal.\+h"{}}\newline
Include dependency graph for stm32f4xx\+\_\+hal\+\_\+timebase\+\_\+rtc\+\_\+alarm\+\_\+template.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{stm32f4xx__hal__timebase__rtc__alarm__template_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_ga5da1cd82e5ae713267918a9c85b4dc77}{RTC\+\_\+\+CLOCK\+\_\+\+SOURCE\+\_\+\+HSE}}
\item 
\#define \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_gac483fb44f1611ddb407a4aacec7ae4e7}{RTC\+\_\+\+ASYNCH\+\_\+\+PREDIV}}~99U
\item 
\#define \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_ga433a49865e4af2e0972e6bbbea894d51}{RTC\+\_\+\+SYNCH\+\_\+\+PREDIV}}~9U
\item 
\#define \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_gad4aef0e3572ec727de3815fcff26220a}{RCC\+\_\+\+RTCCLKSOURCE\+\_\+1\+MHZ}}~((uint32\+\_\+t)((uint32\+\_\+t)\mbox{\hyperlink{group___peripheral___registers___bits___definition_gabe30dbd38f6456990ee641648bc05d40}{RCC\+\_\+\+BDCR\+\_\+\+RTCSEL}} \texorpdfstring{$\vert$}{|} (uint32\+\_\+t)((\mbox{\hyperlink{stm32f4xx__hal__conf_8h_aeafcff4f57440c60e64812dddd13e7cb}{HSE\+\_\+\+VALUE}}/1000000U) $<$$<$ 16U)))
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_ga4da4fb52ec579671d337938e78f9a207}{RTC\+\_\+\+Alarm\+\_\+\+IRQHandler}} (void)
\begin{DoxyCompactList}\small\item\em This function handles RTC ALARM interrupt request. \end{DoxyCompactList}\item 
\mbox{\hyperlink{stm32f4xx__hal__def_8h_a63c0679d1cb8b8c684fbb0632743478f}{HAL\+\_\+\+Status\+Type\+Def}} \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_ga879cdb21ef051eb81ec51c18147397d5}{HAL\+\_\+\+Init\+Tick}} (uint32\+\_\+t Tick\+Priority)
\begin{DoxyCompactList}\small\item\em This function configures the RTC\+\_\+\+ALARMA as a time base source. The time source is configured to have 1ms time base with a dedicated Tick interrupt priority. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_gaaf651af2afe688a991c657f64f8fa5f9}{HAL\+\_\+\+Suspend\+Tick}} (void)
\begin{DoxyCompactList}\small\item\em Suspend Tick increment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_ga24e0ee9dae1ec0f9d19200f5575ff790}{HAL\+\_\+\+Resume\+Tick}} (void)
\begin{DoxyCompactList}\small\item\em Resume Tick increment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_ga11aeff83fd498cddbed3bcddcf017e0a}{HAL\+\_\+\+RTC\+\_\+\+Alarm\+AEvent\+Callback}} (\mbox{\hyperlink{struct_r_t_c___handle_type_def}{RTC\+\_\+\+Handle\+Type\+Def}} \texorpdfstring{$\ast$}{*}hrtc)
\begin{DoxyCompactList}\small\item\em ALARM A Event Callback in non blocking mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{struct_r_t_c___handle_type_def}{RTC\+\_\+\+Handle\+Type\+Def}} \mbox{\hyperlink{group___h_a_l___time_base___r_t_c___alarm___template_ga66edbb38f0b45759c28ecd5aede14478}{h\+RTC\+\_\+\+Handle}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
HAL time base based on the hardware RTC\+\_\+\+ALARM Template. 

\begin{DoxyAuthor}{Author}
MCD Application Team \begin{DoxyVerb}     This file override the native HAL time base functions (defined as weak)
     to use the RTC ALARM for time base generation:
      + Initializes the RTC peripheral to increment the seconds registers each 1ms
      + The alarm is configured to assert an interrupt when the RTC reaches 1ms 
      + HAL_IncTick is called at each Alarm event and the time is reset to 00:00:00
      + HSE (default), LSE or LSI can be selected as RTC clock source
\end{DoxyVerb}

\end{DoxyAuthor}
\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
Copyright (c) 2017 STMicroelectronics. All rights reserved.

This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-\/\+IS.

\begin{DoxyVerb} ==============================================================================
                       ##### How to use this driver #####
 ==============================================================================
   [..]
   This file must be copied to the application folder and modified as follows:
   (#) Rename it to 'stm32f4xx_hal_timebase_rtc_alarm.c'
   (#) Add this file and the RTC HAL drivers to your project and uncomment
      HAL_RTC_MODULE_ENABLED define in stm32f4xx_hal_conf.h 

   [..]
   (@) HAL RTC alarm and HAL RTC wakeup drivers can’t be used with low power modes:
       The wake up capability of the RTC may be intrusive in case of prior low power mode
       configuration requiring different wake up sources.
       Application/Example behavior is no more guaranteed 
   (@) The stm32f4xx_hal_timebase_tim use is recommended for the Applications/Examples
         requiring low power modes
\end{DoxyVerb}
 

Definition in file \mbox{\hyperlink{stm32f4xx__hal__timebase__rtc__alarm__template_8c_source}{stm32f4xx\+\_\+hal\+\_\+timebase\+\_\+rtc\+\_\+alarm\+\_\+template.\+c}}.

