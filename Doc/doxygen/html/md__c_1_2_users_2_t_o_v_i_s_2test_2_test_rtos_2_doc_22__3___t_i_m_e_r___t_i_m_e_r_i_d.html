<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTOS: 🕒 FreeRTOS 타이머 예제: One-Shot &amp; Auto-Reload</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RTOS<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">🕒 FreeRTOS 타이머 예제: One-Shot &amp; Auto-Reload </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md57"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md58"></a>
목적 (Objective)</h1>
<p>이 예제는 FreeRTOS에서 **One-Shot 타이머**와 **Auto-Reload 타이머**를 함께 사용하는 구조를 보여줍니다. <br  />
 타이머 콜백에서 각 타이머의 ID 및 핸들을 활용하여 **타이머 종류를 구분**하고, <br  />
 **동적으로 타이머 동작을 제어**하는 기법을 실습합니다.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md60"></a>
시스템 구성</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">구성 요소  </th><th class="markdownTableHeadNone">설명  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">xOneShotTimer</span>  </td><td class="markdownTableBodyNone">1회만 실행되는 타이머 (1초 후 실행)  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">xAutoReloadTimer</span>  </td><td class="markdownTableBodyNone">반복 실행되는 타이머 (0.5초 간격, 최대 5회)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">vStarterTask</span>  </td><td class="markdownTableBodyNone">타이머 생성 및 시작 담당 태스크  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">prvTimerCallback</span>  </td><td class="markdownTableBodyNone">타이머 콜백 함수, 실행 횟수를 추적함  </td></tr>
</table>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md62"></a>
동작 시나리오</h1>
<ol type="1">
<li>시스템이 시작되면 <span class="tt">vStarterTask</span>가 실행되어 두 개의 타이머를 생성하고 시작합니다.</li>
<li>One-Shot 타이머는 **1초 후 한 번만 콜백**을 호출합니다.</li>
<li>Auto-Reload 타이머는 **0.5초마다 콜백**을 호출하며, **5회 후 정지**됩니다.</li>
<li>각 콜백에서는 실행 시각과 어떤 타이머인지 로그를 출력합니다.</li>
</ol>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md64"></a>
주요 함수 요약</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">함수명  </th><th class="markdownTableHeadNone">설명  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">xTimerCreate()</span>  </td><td class="markdownTableBodyNone">타이머 생성  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="timers_8h.html#a3a9b838f48991e852ce05c986b0eeb8c">xTimerStart()</a></span>  </td><td class="markdownTableBodyNone">타이머 시작  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="timers_8h.html#a8327c7fc10aee414cb163b445c5269a4">xTimerStop()</a></span>  </td><td class="markdownTableBodyNone">타이머 정지  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="timers_8h.html#a1f06045a953481dd7012d4c7762990cb">vTimerSetTimerID()</a></span>  </td><td class="markdownTableBodyNone">사용자 정의 데이터(ID) 설정  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="timers_8h.html#a116df5c5464393c6aeda6ecec6c9e916">pvTimerGetTimerID()</a></span>  </td><td class="markdownTableBodyNone">ID 값 읽기  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="task_8h.html#a753ecfe23e7386066ecccad5d16422f7">xTaskGetTickCount()</a></span>  </td><td class="markdownTableBodyNone">현재 Tick 읽기  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="2__3__timer__timerid_8c.html#a58ec64c472727b9c2addc743f8d464ed">vPrintStringAndNumber()</a></span>  </td><td class="markdownTableBodyNone">로그 출력 (tick 포함)  </td></tr>
</table>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md66"></a>
UART 출력 예시 (출력 결과)</h1>
<div class="fragment"><div class="line">One-shot timer callback executing at tick 1000</div>
<div class="line">Auto-reload timer callback executing at tick 500</div>
<div class="line">Auto-reload timer callback executing at tick 1000</div>
<div class="line">Auto-reload timer callback executing at tick 1500</div>
<div class="line">Auto-reload timer callback executing at tick 2000</div>
<div class="line">Auto-reload timer callback executing at tick 2500</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md67"></a>
동작 개요 (PlantUML 시퀀스 다이어그램)</h1>
<div class="fragment"><div class="line">@startuml</div>
<div class="line">actor User</div>
<div class="line">participant &quot;StarterTask&quot; as T</div>
<div class="line">participant &quot;OneShotTimer&quot; as O</div>
<div class="line">participant &quot;AutoReloadTimer&quot; as A</div>
<div class="line">participant &quot;Callback Function&quot; as C</div>
<div class="line"> </div>
<div class="line">== 시스템 시작 ==</div>
<div class="line">User -&gt; T : 시스템 부팅</div>
<div class="line"> </div>
<div class="line">T -&gt; O : xTimerCreate (1초, One-shot)</div>
<div class="line">T -&gt; A : xTimerCreate (0.5초, Auto-reload)</div>
<div class="line">T -&gt; O : xTimerStart</div>
<div class="line">T -&gt; A : xTimerStart</div>
<div class="line">T -&gt; T : vTaskDelete</div>
<div class="line"> </div>
<div class="line">== 콜백 반복 ==</div>
<div class="line">O -&gt; C : prvTimerCallback (tick 1000)</div>
<div class="line">A -&gt; C : prvTimerCallback (tick 500)</div>
<div class="line">A -&gt; C : prvTimerCallback (tick 1000)</div>
<div class="line">A -&gt; C : prvTimerCallback (tick 1500)</div>
<div class="line">A -&gt; C : prvTimerCallback (tick 2000)</div>
<div class="line">A -&gt; C : prvTimerCallback (tick 2500)</div>
<div class="line">A -&gt; A : xTimerStop (after 5 times)</div>
<div class="line">@enduml</div>
</div><!-- fragment --><p> 💡 위 다이어그램은 One-Shot과 Auto-Reload 타이머가 어떻게 작동하며 콜백이 어떻게 호출되는지 시각적으로 설명합니다.</p>
<p>✅ 참고사항 xTimer == xOneShotTimer 비교는 실제 타이머 핸들 주소를 비교하여 어떤 타이머에서 호출되었는지 판별하는 용도입니다. pvTimerID를 사용해 실행 횟수를 추적할 수 있고, 필요시 구조체로도 확장 가능합니다. (디버깅 용이-로그에 이름 출력 가능) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
