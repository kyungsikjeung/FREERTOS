<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTOS: FreeRTOS Mailbox Queue Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RTOS<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">FreeRTOS Mailbox Queue Example </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md91"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md92"></a>
1.ëª©ì  (Objective)</h1>
<p>FreeRTOSì˜ <span class="tt"><a class="el" href="queue_8h.html#a8e9ced123b5a0e37a36d3bbdb2e56b4e">xQueueOverwrite()</a></span>ì™€ <span class="tt"><a class="el" href="queue_8h.html#a3f9e430276fe5244417fd82644ec8a75">xQueuePeek()</a></span> APIë¥¼ ì‚¬ìš©í•˜ì—¬ <br  />
 <span class="tt">ê°€ì¥ ìµœì‹  ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ëŠ” í(ë©”ì¼ë°•ìŠ¤)ë¥¼ í…ŒìŠ¤íŠ¸</p><ul>
<li>ì†¡ì‹  TaskëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ê°’ê³¼ íƒ€ì„ìŠ¤íƒ¬í”„ë¥¼ íì— </li>
</ul>
<p></span>ë®ì–´ì“°ê¸°(xQueueOverwrite)<span class="tt"> ë°©ì‹ìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.</p><ul>
<li>ìˆ˜ì‹  TaskëŠ” </li>
</ul>
<p></span><a class="el" href="queue_8h.html#a3f9e430276fe5244417fd82644ec8a75">xQueuePeek()</a><span class="tt">ì„ í†µí•´ íì˜ ë‚´ìš©ì„ ì½ê³ , ë§ˆì§€ë§‰ìœ¼ë¡œ ë°›ì€ timestampì™€ ë¹„êµí•˜ì—¬ </span>ì¤‘ë³µ ì¶œë ¥ ë°©ì§€` ì²˜ë¦¬ë¥¼ í•©ë‹ˆë‹¤.</p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md94"></a>
2.ì‹œìŠ¤í…œ êµ¬ì„±</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Task ì´ë¦„  </th><th class="markdownTableHeadNone">ì—­í•   </th><th class="markdownTableHeadNone">ì£¼ìš” API ì‚¬ìš©  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">vUpdaterTask</span>  </td><td class="markdownTableBodyNone">ì£¼ê¸°ì ìœ¼ë¡œ ê°’ ì¦ê°€ í›„ Mailboxì— ë®ì–´ì“°ê¸°  </td><td class="markdownTableBodyNone"><span class="tt"><a class="el" href="queue_8h.html#a8e9ced123b5a0e37a36d3bbdb2e56b4e">xQueueOverwrite()</a></span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt">vReaderTask</span>  </td><td class="markdownTableBodyNone">Mailboxì—ì„œ ìµœì‹  ê°’ë§Œ í™•ì¸í•˜ê³  ì¶œë ¥  </td><td class="markdownTableBodyNone"><span class="tt"><a class="el" href="queue_8h.html#a3f9e430276fe5244417fd82644ec8a75">xQueuePeek()</a></span> + íƒ€ì„ìŠ¤íƒ¬í”„ ë¹„êµ  </td></tr>
</table>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md96"></a>
3.ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤</h1>
<ol type="1">
<li>ì‹œìŠ¤í…œ ì´ˆê¸°í™” í›„ ê¸¸ì´ 1ì˜ í(<span class="tt">xMailbox</span>)ê°€ ìƒì„±ë¨</li>
<li><span class="tt">vUpdaterTask</span>ê°€ ê°’ê³¼ Tickì„ ì£¼ê¸°ì ìœ¼ë¡œ <span class="tt"><a class="el" href="queue_8h.html#a8e9ced123b5a0e37a36d3bbdb2e56b4e">xQueueOverwrite()</a></span>ë¡œ íì— ê¸°ë¡</li>
<li><span class="tt">vReaderTask</span>ëŠ” <span class="tt"><a class="el" href="queue_8h.html#a3f9e430276fe5244417fd82644ec8a75">xQueuePeek()</a></span>ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì½ìŒ</li>
<li>ì´ì „ì— ìˆ˜ì‹ í•œ timestampì™€ ë¹„êµí•˜ì—¬ ì¤‘ë³µ ë°ì´í„°ëŠ” ë¬´ì‹œ, ìƒˆë¡œìš´ ë°ì´í„°ë§Œ ì¶œë ¥</li>
</ol>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md98"></a>
4.í•µì‹¬ í¬ì¸íŠ¸</h1>
<ul>
<li>ì¼ë°˜ì ì¸ íëŠ” ê°€ë“ ì°¨ë©´ ì „ì†¡ ì‹¤íŒ¨ (<span class="tt"><a class="el" href="queue_8h.html#af7eb49d3249351176992950d9185abe9">xQueueSend()</a></span> â†’ FAIL)</li>
<li><span class="tt"><a class="el" href="queue_8h.html#a8e9ced123b5a0e37a36d3bbdb2e56b4e">xQueueOverwrite()</a></span>ëŠ” í ê¸¸ì´ì— ìƒê´€ì—†ì´ <b>ê¸°ì¡´ ë°ì´í„°ë¥¼ ë®ì–´ì“°ê¸°</b> ë•Œë¬¸ì— <br  />
 <b>í•­ìƒ ìµœì‹  ë°ì´í„°ë§Œ ìœ ì§€**í•˜ëŠ” ë° ì í•©</b></li>
<li><b><span class="tt"><a class="el" href="queue_8h.html#a3f9e430276fe5244417fd82644ec8a75">xQueuePeek()</a></span>ì€ ë°ì´í„°ë¥¼ **ì œê±°í•˜ì§€ ì•Šê³  ì½ê¸°ë§Œ</b> í•˜ë¯€ë¡œ <br  />
 ìˆ˜ì‹ ìê°€ ë°ì´í„°ì˜ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  ì²˜ë¦¬ ê°€ëŠ¥</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md100"></a>
5.ì¶œë ¥ ì˜ˆì‹œ (UART ë¡œê·¸)</h1>
<div class="fragment"><div class="line">Received value: 3 (Tick: 12345)</div>
<div class="line">Received value: 4 (Tick: 12845)</div>
<div class="line">Received value: 5 (Tick: 13345)</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md101"></a>
6.PlantUML ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨</h1>
<div class="fragment"><div class="line">@startuml</div>
<div class="line"> </div>
<div class="line">participant UpdaterTask</div>
<div class="line">participant xMailbox</div>
<div class="line">participant ReaderTask</div>
<div class="line"> </div>
<div class="line">loop every 500ms</div>
<div class="line">    UpdaterTask -&gt; xMailbox : xQueueOverwrite(dataToSend)</div>
<div class="line">end</div>
<div class="line"> </div>
<div class="line">loop every 100ms</div>
<div class="line">    ReaderTask -&gt; xMailbox : xQueuePeek(receivedData)</div>
<div class="line">    alt if receivedData.timestamp is new</div>
<div class="line">        ReaderTask -&gt; UART : printf(receivedData)</div>
<div class="line">    else</div>
<div class="line">        ReaderTask --&gt; ReaderTask : Skip (duplicate)</div>
<div class="line">    end</div>
<div class="line">end</div>
<div class="line"> </div>
<div class="line">@enduml</div>
</div><!-- fragment --><p> ğŸ§ª ì‘ìš© ê°€ëŠ¥ì„± ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ ì‹œ ìµœê·¼ê°’ë§Œ ìœ ì§€ UIì— ìµœì‹  ìƒíƒœë§Œ ë°˜ì˜ (ex. ì˜¨ë„, ì†ë„, ìœ„ì¹˜ ë“±) CAN, UART ë“±ì—ì„œ ë‹¨ì¼ IDì— í•´ë‹¹í•˜ëŠ” ìµœì‹  ë©”ì‹œì§€ ì²˜ë¦¬ìš© âš ï¸ ì£¼ì˜ ê³¼ê±° ê¸°ë¡ì´ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©í•˜ì§€ ë§ê²ƒ(Fault Log) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
