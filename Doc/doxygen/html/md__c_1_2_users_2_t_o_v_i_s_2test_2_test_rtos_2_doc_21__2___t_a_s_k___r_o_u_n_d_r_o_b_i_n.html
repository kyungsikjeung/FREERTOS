<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTOS: ğŸ§µ FreeRTOS Task Parameter ì˜ˆì œ íŠœí† ë¦¬ì–¼</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RTOS<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<div id="main-nav">
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- main-nav -->
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">ğŸ§µ FreeRTOS Task Parameter ì˜ˆì œ íŠœí† ë¦¬ì–¼ </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md12"></a></p>
<p>ì´ ë¬¸ì„œëŠ” ë‘ ê°œì˜ FreeRTOS íƒœìŠ¤í¬ê°€ ê°ê° ë‹¤ë¥¸ ë©”ì‹œì§€ë¥¼ UARTë¡œ ì¶œë ¥í•˜ê³ , LEDë¥¼ í† ê¸€í•˜ëŠ” ì˜ˆì œë¥¼ í†µí•´ ë‹¤ìŒ ê°œë…ë“¤ì„ í•™ìŠµí•©ë‹ˆë‹¤:</p>
<ul>
<li>Taskì— íŒŒë¼ë¯¸í„° ì „ë‹¬</li>
<li>ë™ì¼ ìš°ì„ ìˆœìœ„ Task ê°„ <b>ë¼ìš´ë“œ ë¡œë¹ˆ(Round-Robin)</b> ë™ì‘</li>
<li>**ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­**ì´ ì–´ë–»ê²Œ ì¼ì–´ë‚˜ëŠ”ì§€ ì´í•´</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
1. Objective (ëª©í‘œ)</h1>
<ul>
<li>FreeRTOS Taskì— ë¬¸ìì—´ ë©”ì‹œì§€ë¥¼ <b>íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬**í•˜ëŠ” ë°©ë²• í•™ìŠµ</b></li>
<li><b>ì „ë‹¬ë°›ì€ ë©”ì‹œì§€ë¥¼ **UARTë¡œ ì£¼ê¸°ì ìœ¼ë¡œ ì¶œë ¥</b></li>
<li>Taskë§ˆë‹¤ LEDë¥¼ í† ê¸€í•˜ë©° ì‹¤í–‰ ì¤‘ì„ì„ í‘œì‹œ</li>
<li>ë™ì¼ ìš°ì„ ìˆœìœ„ Task ê°„ <b>ê³µì •í•œ CPU ì‹œê°„ ë¶„ë°°</b> êµ¬ì¡°ë¥¼ ì²´í—˜(ë¼ìš´ë“œë¡œë¹ˆ)</li>
<li>1ì´ˆë§ˆë‹¤ ê°ê°ì˜ TASK ìˆ˜í–‰ë˜ì–´ì•¼ í•˜ì§€ë§Œ, ë¼ìš´ë“œ ë¡œë¹ˆë°œìƒ</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
2. ğŸ”§ ì£¼ìš” êµ¬ì„± ìš”ì†Œ</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">êµ¬ì„± ìš”ì†Œ  </th><th class="markdownTableHeadNone">ì„¤ëª…  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="1__2__task__roundrobin_8c.html#a902a64ca782182bd7360b69639f74063">Task1()</a></span>  </td><td class="markdownTableBodyNone"><span class="tt">"Task1 Msg"</span> ì¶œë ¥, LD1 í† ê¸€  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><span class="tt"><a class="el" href="1__2__task__roundrobin_8c.html#af01c7f41ef35453d7c0e896db918be88">Task2()</a></span>  </td><td class="markdownTableBodyNone"><span class="tt">"Task2 Msg"</span> ì¶œë ¥, LD2 í† ê¸€  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><span class="tt">xTaskCreate()</span>  </td><td class="markdownTableBodyNone">Task ìƒì„± ì‹œ íŒŒë¼ë¯¸í„°(<span class="tt">const char*</span>) ì „ë‹¬  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ìš°ì„ ìˆœìœ„  </td><td class="markdownTableBodyNone">ë‘ Task ëª¨ë‘ <span class="tt">priority = 1</span> (ë¼ìš´ë“œ ë¡œë¹ˆ ë°œìƒ)  </td></tr>
</table>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
3. ì£¼ìš” ì½”ë“œ ìš”ì•½</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
ì „ì—­ ë¬¸ìì—´ ì •ì˜</h2>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="1__2__task__roundrobin_8c.html#a8ef4f5ae2af877dac0d1ef5e5960e9ce">task1_msg</a> = <span class="stringliteral">&quot;Task1 Msg  !\r\n&quot;</span>;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code hl_variable" href="1__2__task__roundrobin_8c.html#ac3981b111cfd2a9f6c62ca747094c8e1">task2_msg</a> = <span class="stringliteral">&quot;Task2 Msg  !\r\n&quot;</span>;</div>
<div class="line"> Task í•¨ìˆ˜ (ê³µí†µ êµ¬ì¡°)</div>
<div class="ttc" id="a1__2__task__roundrobin_8c_html_a8ef4f5ae2af877dac0d1ef5e5960e9ce"><div class="ttname"><a href="1__2__task__roundrobin_8c.html#a8ef4f5ae2af877dac0d1ef5e5960e9ce">task1_msg</a></div><div class="ttdeci">const char * task1_msg</div><div class="ttdef"><b>Definition</b> <a href="1__2__task__roundrobin_8c_source.html#l00005">1_2_task_roundrobin.c:5</a></div></div>
<div class="ttc" id="a1__2__task__roundrobin_8c_html_ac3981b111cfd2a9f6c62ca747094c8e1"><div class="ttname"><a href="1__2__task__roundrobin_8c.html#ac3981b111cfd2a9f6c62ca747094c8e1">task2_msg</a></div><div class="ttdeci">const char * task2_msg</div><div class="ttdef"><b>Definition</b> <a href="1__2__task__roundrobin_8c_source.html#l00006">1_2_task_roundrobin.c:6</a></div></div>
</div><!-- fragment --><p> c void TaskX(void &lt;em&gt;pvParameters) { const char msg = (const char*) pvParameters; while (1) { HAL_UART_Transmit(&amp;huart3, (uint8_t *)msg, strlen(msg), HAL_MAX_DELAY); HAL_GPIO_TogglePin(GPIOB, LDx_Pin); vTaskDelay(pdMS_TO_TICKS(1000)); } } main í•¨ìˆ˜ </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="1__1__task__simpletask_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>(<span class="keywordtype">void</span>) {</div>
<div class="line">    <a class="code hl_function" href="driver__init_8h.html#aab7f079e70f08c868bbb3fdd41b86f82">Driver_Init</a>();</div>
<div class="line">    xTaskCreate(<a class="code hl_function" href="1__2__task__roundrobin_8c.html#a902a64ca782182bd7360b69639f74063">Task1</a>, <span class="stringliteral">&quot;Task1&quot;</span>, 256, (<span class="keywordtype">void</span>*)<a class="code hl_variable" href="1__2__task__roundrobin_8c.html#a8ef4f5ae2af877dac0d1ef5e5960e9ce">task1_msg</a>, 1, NULL);</div>
<div class="line">    xTaskCreate(<a class="code hl_function" href="1__2__task__roundrobin_8c.html#af01c7f41ef35453d7c0e896db918be88">Task2</a>, <span class="stringliteral">&quot;Task2&quot;</span>, 256, (<span class="keywordtype">void</span>*)<a class="code hl_variable" href="1__2__task__roundrobin_8c.html#ac3981b111cfd2a9f6c62ca747094c8e1">task2_msg</a>, 1, NULL);</div>
<div class="line">    <a class="code hl_function" href="task_8h.html#aaf9dca1065c60abdeb309d56ab7293cb">vTaskStartScheduler</a>();</div>
<div class="line">    <span class="keywordflow">while</span> (1) {}</div>
<div class="line">}</div>
<div class="ttc" id="a1__1__task__simpletask_8c_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="1__1__task__simpletask_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> <a href="1__1__task__simpletask_8c_source.html#l00019">1_1_task_simpletask.c:19</a></div></div>
<div class="ttc" id="a1__2__task__roundrobin_8c_html_a902a64ca782182bd7360b69639f74063"><div class="ttname"><a href="1__2__task__roundrobin_8c.html#a902a64ca782182bd7360b69639f74063">Task1</a></div><div class="ttdeci">void Task1(void *pvParameters)</div><div class="ttdef"><b>Definition</b> <a href="1__2__task__roundrobin_8c_source.html#l00010">1_2_task_roundrobin.c:10</a></div></div>
<div class="ttc" id="a1__2__task__roundrobin_8c_html_af01c7f41ef35453d7c0e896db918be88"><div class="ttname"><a href="1__2__task__roundrobin_8c.html#af01c7f41ef35453d7c0e896db918be88">Task2</a></div><div class="ttdeci">void Task2(void *pvParameters)</div><div class="ttdef"><b>Definition</b> <a href="1__2__task__roundrobin_8c_source.html#l00021">1_2_task_roundrobin.c:21</a></div></div>
<div class="ttc" id="adriver__init_8h_html_aab7f079e70f08c868bbb3fdd41b86f82"><div class="ttname"><a href="driver__init_8h.html#aab7f079e70f08c868bbb3fdd41b86f82">Driver_Init</a></div><div class="ttdeci">void Driver_Init(void)</div><div class="ttdoc">Custom driver initialization entry point.</div><div class="ttdef"><b>Definition</b> <a href="driver_8init_8c_source.html#l00045">driver.init.c:45</a></div></div>
<div class="ttc" id="atask_8h_html_aaf9dca1065c60abdeb309d56ab7293cb"><div class="ttname"><a href="task_8h.html#aaf9dca1065c60abdeb309d56ab7293cb">vTaskStartScheduler</a></div><div class="ttdeci">void vTaskStartScheduler(void) PRIVILEGED_FUNCTION</div><div class="ttdef"><b>Definition</b> <a href="tasks_8c_source.html#l01974">tasks.c:1974</a></div></div>
</div><!-- fragment --> <h1 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
4. ë¼ìš´ë“œ ë¡œë¹ˆ &amp; ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­</h1>
<p>Task1ê³¼ Task2ëŠ” ë™ì¼í•œ ìš°ì„ ìˆœìœ„(1) ë¥¼ ê°€ì§€ë¯€ë¡œ,</p>
<p>FreeRTOSëŠ” Tick ë§ˆë‹¤ ë²ˆê°ˆì•„ Taskë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
<p><a class="el" href="task_8h.html#aa154068cecd7f31446a7a84af44ab1a3">vTaskDelay()</a>ê°€ í˜¸ì¶œë˜ë©´ í•´ë‹¹ TaskëŠ” Block ìƒíƒœê°€ ë˜ê³ , ë‹¤ë¥¸ Ready ìƒíƒœ Taskê°€ ì¦‰ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
<p>ì´ ë°©ì‹ì€ Round-Robin ìŠ¤ì¼€ì¤„ë§ì´ë©°, ëª¨ë“  ë™ì¼ ìš°ì„ ìˆœìœ„ Taskì— ê³µí‰í•˜ê²Œ CPUë¥¼ ë¶„ë°°í•©ë‹ˆë‹¤.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
5. ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ (PlantUML)</h1>
<div class="fragment"><div class="line">@startuml</div>
<div class="line">actor Main</div>
<div class="line">participant Task1</div>
<div class="line">participant Task2</div>
<div class="line">participant UART</div>
<div class="line">participant LED</div>
<div class="line"> </div>
<div class="line">Main -&gt; Task1 : xTaskCreate(Task1, priority=1)</div>
<div class="line">Main -&gt; Task2 : xTaskCreate(Task2, priority=1)</div>
<div class="line">Main -&gt; Main : vTaskStartScheduler()</div>
<div class="line"> </div>
<div class="line">loop 1ì´ˆ ì£¼ê¸°</div>
<div class="line">    Task1 -&gt; UART : HAL_UART_Transmit(&quot;Task1 Msg&quot;)</div>
<div class="line">    Task1 -&gt; LED : Toggle LD1</div>
<div class="line">    Task1 -&gt; Task1 : vTaskDelay(1000ms)</div>
<div class="line"> </div>
<div class="line">    Task2 -&gt; UART : HAL_UART_Transmit(&quot;Task2 Msg&quot;)</div>
<div class="line">    Task2 -&gt; LED : Toggle LD2</div>
<div class="line">    Task2 -&gt; Task2 : vTaskDelay(1000ms)</div>
<div class="line">end</div>
<div class="line">@enduml</div>
</div><!-- fragment --><p> ğŸ‘‰ ìœ„ ë‹¤ì´ì–´ê·¸ë¨ì€ <a href="https://plantuml-editor.kkeisuke.com/ì—ì„œ">https://plantuml-editor.kkeisuke.com/ì—ì„œ</a> ë¶™ì—¬ë„£ìœ¼ë©´ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md22"></a>
6. ìš”ì•½</h1>
<p>í•­ëª© ì„¤ëª… pvParameters Taskì— ì‚¬ìš©ì ì§€ì • ë©”ì‹œì§€ ì „ë‹¬ xTaskCreate() Task ë“±ë¡ ë° íŒŒë¼ë¯¸í„° ì„¤ì • <a class="el" href="task_8h.html#aa154068cecd7f31446a7a84af44ab1a3">vTaskDelay()</a> Taskë¥¼ ì¼ì • ì‹œê°„ ë™ì•ˆ Block ìƒíƒœë¡œ ì „í™˜ ë¼ìš´ë“œ ë¡œë¹ˆ ìŠ¤ì¼€ì¤„ë§ ë™ì¼ ìš°ì„ ìˆœìœ„ Task ê°„ CPU ë¶„ë°° ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ì‹¤í–‰ ì¤‘ Task â†’ ë‹¤ë¥¸ Task ì „í™˜</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
7. í™œìš© ì•„ì´ë””ì–´</h1>
<p>ì—¬ëŸ¬ ë””ë°”ì´ìŠ¤ ìƒíƒœë¥¼ ì£¼ê¸°ì ìœ¼ë¡œ ì¶œë ¥í•˜ëŠ” êµ¬ì¡° ì„¤ê³„ ë™ì¼ ì½”ë“œ ê¸°ë°˜ Task ì¬ì‚¬ìš© ì‹œ, íŒŒë¼ë¯¸í„°ë§Œ ë³€ê²½í•˜ì—¬ ë™ì‘ ë¶„ê¸° ìƒíƒœ ëª¨ë‹ˆí„°ë§, ë””ë²„ê¹…, LED ì ë©¸ ì œì–´ ë“± Task ê°„ ì—­í•  ë¶„ë‹´</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
8. ê²°ë¡ </h1>
<p>ì´ ì˜ˆì œëŠ” FreeRTOSì˜ Task ê¸°ë³¸ ê°œë…ì„ ì‹¤ìŠµí•˜ë©° ë‹¤ìŒì„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤: Taskì— ë¬¸ìì—´ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²• ë™ì¼ ìš°ì„ ìˆœìœ„ Task ê°„ ë¼ìš´ë“œ ë¡œë¹ˆ ë°©ì‹ ìŠ¤ì¼€ì¤„ë§ vTaskDelayì™€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ì˜ ì‹¤ë™ì‘ êµ¬ì¡° êµ¬ì¡°í™”ëœ Task ì„¤ê³„ì™€ UART + GPIO í™œìš© </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
